---
name: refactor
description: 在不改变外部行为的前提下优化 Midas 代码结构与可维护性。
---

# Refactor（重构）

## 目标
- 提升可读性、可维护性与复用性。
- 不改变 API 行为和错误码语义。

## 必须流程
1. 定义“会改什么/不会改什么”。
2. 分阶段改动（每步可回滚）。
3. 保持输入输出与接口契约一致。
4. 补/改测试保证行为不变。
5. 执行测试并提交结果。

## 约束
- 不引入无关功能。
- 不顺手改业务逻辑。
- 如涉及接口层重构，必须回归验证 `health`、`bilibili`、`xiaohongshu` 路由。
